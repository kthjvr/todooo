<!DOCTYPE html>
<html>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/signupin.css">

    <head>
        <title>Todooo - Sign Up</title>
        <link rel="icon" type="image/x-icon" href="../images/icon.ico">
    </head>

    <body>

        <nav>
            <a href="../index.html"><img src="../images/logo.png" alt="Todooo"></a>
        </nav>

        <div class="center-content">
            <div class="box-1">
                <form method="post" action="../backend/register.php" enctype="multipart/form-data">
                  <h2>Set up your account</h2>
              
                  <p>Username</p>
                  <input name="username" type="text" placeholder="ex.: anonymous27" required>
                  <p>Email Address</p>
                  <input name="email" type="email" placeholder="ex.: example@gmail.com" required>
                  <p>Password</p>
                  <input name="userpassword" type="password" placeholder="Type password" required>
                  <p>Upload Profile:</p>
                  <label for="avatarFile">
                    <span id="avatarFileDisplay">
                      <span class="avatar-preview-label">No file selected</span>
                      <img id="avatarPreview" src="../images/avatar/portrait.png" alt="Avatar Preview" />
                    </span>
                    <img id="avatarPreview1" src="../images/avatar/portrait.png" alt="Avatar Preview" />
                  </label>
                  <input type="file" name="avatar" id="avatarFile" onchange="handleAvatarSelection(this)" required>
                  <a>
                    <button class="submit" type="submit">Sign Up</button>
                  </a>
              
                  <div class="question">
                    <p>Registered? Click <a href="sign-in.html" style="text-decoration:none; font-weight: bolder; color:#0074D9;">here</a> to log in!</p>
                  </div>
                </form>
              </div>
              
                      
        </div>

    </body>
</html>

<script>
function handleAvatarSelection(input) {
  var file = input.files[0];
  var preview = document.getElementById("avatarPreview");
  var preview1 = document.getElementById("avatarPreview1");
  var label = document.querySelector("#avatarFileDisplay .avatar-preview-label");

  if (file) {
    var reader = new FileReader();
    reader.onload = function (e) {
      preview.src = e.target.result;
      preview.style.display = "block";
      preview1.style.display = 'none';
    };
    reader.readAsDataURL(file);
    label.textContent = file.name;
  } else {
    preview.src = "../images/avatar/portrait.png";
    preview.style.display = "none";
    label.textContent = "No file selected";
  }
}

</script>